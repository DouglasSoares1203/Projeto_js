{"version":3,"file":"free-style.js","sourceRoot":"","sources":["../src/free-style.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * The unique id is used for unique hashes.\n */\nlet uniqueId = 0\n\n/**\n * Valid CSS property values.\n */\nexport type PropertyValue = number | boolean | string\n\n/**\n * Input styles object.\n */\nexport interface Styles {\n  [selector: string]: null | undefined | PropertyValue | PropertyValue[] | Styles\n}\n\n/**\n * Hash algorithm interface.\n */\nexport type HashFunction = (str: string) => string\n\n/**\n * Tag styles with this string to get unique hashes.\n */\nexport const IS_UNIQUE = '__DO_NOT_DEDUPE_STYLE__'\n\nconst upperCasePattern = /[A-Z]/g\nconst msPattern = /^ms-/\nconst interpolatePattern = /&/g\nconst escapePattern = /[ !#$%&()*+,./;<=>?@[\\]^`{|}~\"'\\\\]/g\nconst propLower = (m: string) => `-${m.toLowerCase()}`\n\n/**\n * CSS properties that are valid unit-less numbers.\n */\nconst cssNumberProperties = [\n  'animation-iteration-count',\n  'box-flex',\n  'box-flex-group',\n  'column-count',\n  'counter-increment',\n  'counter-reset',\n  'flex',\n  'flex-grow',\n  'flex-positive',\n  'flex-shrink',\n  'flex-negative',\n  'font-weight',\n  'line-clamp',\n  'line-height',\n  'opacity',\n  'order',\n  'orphans',\n  'tab-size',\n  'widows',\n  'z-index',\n  'zoom',\n  // SVG properties.\n  'fill-opacity',\n  'stroke-dashoffset',\n  'stroke-opacity',\n  'stroke-width'\n]\n\n/**\n * Map of css number properties.\n */\nconst CSS_NUMBER = Object.create(null)\n\n// Add vendor prefixes to all unit-less properties.\nfor (const prefix of ['-webkit-', '-ms-', '-moz-', '-o-', '']) {\n  for (const property of cssNumberProperties) {\n    CSS_NUMBER[prefix + property] = true\n  }\n}\n\n/**\n * Escape a CSS class name.\n */\nexport const escape = (str: string) => str.replace(escapePattern, '\\\\$&')\n\n/**\n * Transform a JavaScript property into a CSS property.\n */\nexport function hyphenate (propertyName: string): string {\n  return propertyName\n    .replace(upperCasePattern, propLower)\n    .replace(msPattern, '-ms-') // Internet Explorer vendor prefix.\n}\n\n/**\n * Generate a hash value from a string.\n */\nexport function stringHash (str: string): string {\n  let value = 5381\n  let len = str.length\n\n  while (len--) value = (value * 33) ^ str.charCodeAt(len)\n\n  return (value >>> 0).toString(36)\n}\n\n/**\n * Transform a style string to a CSS string.\n */\nfunction styleToString (key: string, value: PropertyValue) {\n  if (typeof value === 'number' && value !== 0 && !CSS_NUMBER[key]) {\n    return `${key}:${value}px`\n  }\n\n  return `${key}:${value}`\n}\n\n/**\n * Sort an array of tuples by first value.\n */\nfunction sortTuples <T extends any[]> (value: T[]): T[] {\n  return value.sort((a, b) => a[0] > b[0] ? 1 : -1)\n}\n\n/**\n * Categorize user styles.\n */\nfunction parseStyles (styles: Styles, hasNestedStyles: boolean) {\n  const properties: Array<[string, PropertyValue | PropertyValue[]]> = []\n  const nestedStyles: Array<[string, Styles]> = []\n  let isUnique = false\n\n  // Sort keys before adding to styles.\n  for (const key of Object.keys(styles)) {\n    const value = styles[key]\n\n    if (value !== null && value !== undefined) {\n      if (key === IS_UNIQUE) {\n        isUnique = true\n      } else if (typeof value === 'object' && !Array.isArray(value)) {\n        nestedStyles.push([key.trim(), value])\n      } else {\n        properties.push([hyphenate(key.trim()), value])\n      }\n    }\n  }\n\n  return {\n    styleString: stringifyProperties(sortTuples(properties)),\n    nestedStyles: hasNestedStyles ? nestedStyles : sortTuples(nestedStyles),\n    isUnique\n  }\n}\n\n/**\n * Stringify an array of property tuples.\n */\nfunction stringifyProperties (properties: Array<[string, PropertyValue | PropertyValue[]]>) {\n  return properties.map(([name, value]) => {\n    if (!Array.isArray(value)) return styleToString(name, value)\n\n    return value.map(x => styleToString(name, x)).join(';')\n  }).join(';')\n}\n\n/**\n * Interpolate CSS selectors.\n */\nfunction interpolate (selector: string, parent: string) {\n  if (selector.indexOf('&') > -1) {\n    return selector.replace(interpolatePattern, parent)\n  }\n\n  return `${parent} ${selector}`\n}\n\n/**\n * Recursive loop building styles with deferred selectors.\n */\nfunction stylize (cache: Cache<any>, selector: string, styles: Styles, list: [string, Style][], parent?: string) {\n  const { styleString, nestedStyles, isUnique } = parseStyles(styles, !!selector)\n  let pid = styleString\n\n  if (selector.charCodeAt(0) === 64 /* @ */) {\n    const rule = cache.add(new Rule(selector, parent ? undefined : styleString, cache.hash))\n\n    // Nested styles support (e.g. `.foo > @media > .bar`).\n    if (styleString && parent) {\n      const style = rule.add(new Style(styleString, rule.hash, isUnique ? `u${(++uniqueId).toString(36)}` : undefined))\n      list.push([parent, style])\n    }\n\n    for (const [name, value] of nestedStyles) {\n      pid += name + stylize(rule, name, value, list, parent)\n    }\n  } else {\n    const key = parent ? interpolate(selector, parent) : selector\n\n    if (styleString) {\n      const style = cache.add(new Style(styleString, cache.hash, isUnique ? `u${(++uniqueId).toString(36)}` : undefined))\n      list.push([key, style])\n    }\n\n    for (const [name, value] of nestedStyles) {\n      pid += name + stylize(cache, name, value, list, key)\n    }\n  }\n\n  return pid\n}\n\n/**\n * Register all styles, but collect for selector interpolation using the hash.\n */\nfunction composeStyles (container: FreeStyle, selector: string, styles: Styles, isStyle: boolean, displayName?: string) {\n  const cache = new Cache<Rule | Style>(container.hash)\n  const list: [string, Style][] = []\n  const pid = stylize(cache, selector, styles, list)\n\n  const hash = `f${cache.hash(pid)}`\n  const id = displayName ? `${displayName}_${hash}` : hash\n\n  for (const [selector, style] of list) {\n    const key = isStyle ? interpolate(selector, `.${escape(id)}`) : selector\n    style.add(new Selector(key, style.hash, undefined, pid))\n  }\n\n  return { cache, pid, id }\n}\n\n/**\n * Cache to list to styles.\n */\nfunction join (arr: string[]): string {\n  let res = ''\n  for (let i = 0; i < arr.length; i++) res += arr[i]\n  return res\n}\n\n/**\n * Propagate change events.\n */\nexport interface Changes {\n  add (style: Container<any>, index: number): void\n  change (style: Container<any>, oldIndex: number, newIndex: number): void\n  remove (style: Container<any>, index: number): void\n}\n\n/**\n * Noop changes.\n */\nconst noopChanges: Changes = {\n  add: () => undefined,\n  change: () => undefined,\n  remove: () => undefined\n}\n\n/**\n * Cacheable interface.\n */\nexport interface Container <T> {\n  id: string\n  clone (): T\n  getIdentifier (): string\n  getStyles (): string\n}\n\n/**\n * Implement a cache/event emitter.\n */\nexport class Cache <T extends Container<any>> {\n\n  sheet: string[] = []\n  changeId = 0\n\n  private _keys: string[] = []\n  private _children: { [id: string]: T } = Object.create(null)\n  private _counters: { [id: string]: number } = Object.create(null)\n\n  constructor (public hash = stringHash, public changes: Changes = noopChanges) {}\n\n  add <U extends T> (style: U): U {\n    const count = this._counters[style.id] || 0\n    const item = this._children[style.id] || style.clone()\n\n    this._counters[style.id] = count + 1\n\n    if (count === 0) {\n      this._children[item.id] = item\n      this._keys.push(item.id)\n      this.sheet.push(item.getStyles())\n      this.changeId++\n      this.changes.add(item, this._keys.length - 1)\n    } else {\n      // Check if contents are different.\n      if (item.getIdentifier() !== style.getIdentifier()) {\n        throw new TypeError(`Hash collision: ${style.getStyles()} === ${item.getStyles()}`)\n      }\n\n      const oldIndex = this._keys.indexOf(style.id)\n      const newIndex = this._keys.length - 1\n      const prevChangeId = this.changeId\n\n      if (oldIndex !== newIndex) {\n        this._keys.splice(oldIndex, 1)\n        this._keys.push(style.id)\n        this.changeId++\n      }\n\n      if (item instanceof Cache && style instanceof Cache) {\n        const prevChangeId = item.changeId\n\n        item.merge(style)\n\n        if (item.changeId !== prevChangeId) {\n          this.changeId++\n        }\n      }\n\n      if (this.changeId !== prevChangeId) {\n        if (oldIndex === newIndex) {\n          this.sheet.splice(oldIndex, 1, item.getStyles())\n        } else {\n          this.sheet.splice(oldIndex, 1)\n          this.sheet.splice(newIndex, 0, item.getStyles())\n        }\n\n        this.changes.change(item, oldIndex, newIndex)\n      }\n    }\n\n    return item as U\n  }\n\n  remove (style: T): void {\n    const count = this._counters[style.id]\n\n    if (count > 0) {\n      this._counters[style.id] = count - 1\n\n      const item = this._children[style.id]\n      const index = this._keys.indexOf(item.id)\n\n      if (count === 1) {\n        delete this._counters[style.id]\n        delete this._children[style.id]\n\n        this._keys.splice(index, 1)\n        this.sheet.splice(index, 1)\n        this.changeId++\n        this.changes.remove(item, index)\n      } else if (item instanceof Cache && style instanceof Cache) {\n        const prevChangeId = item.changeId\n\n        item.unmerge(style)\n\n        if (item.changeId !== prevChangeId) {\n          this.sheet.splice(index, 1, item.getStyles())\n          this.changeId++\n          this.changes.change(item, index, index)\n        }\n      }\n    }\n  }\n\n  merge (cache: Cache<any>) {\n    for (const id of cache._keys) this.add(cache._children[id])\n\n    return this\n  }\n\n  unmerge (cache: Cache<any>) {\n    for (const id of cache._keys) this.remove(cache._children[id])\n\n    return this\n  }\n\n  clone () {\n    return new Cache(this.hash).merge(this)\n  }\n\n}\n\n/**\n * Selector is a dumb class made to represent nested CSS selectors.\n */\nexport class Selector implements Container<Selector> {\n\n  constructor (\n    public selector: string,\n    public hash: HashFunction,\n    public id = `s${hash(selector)}`,\n    public pid = ''\n  ) {}\n\n  getStyles () {\n    return this.selector\n  }\n\n  getIdentifier () {\n    return `${this.pid}.${this.selector}`\n  }\n\n  clone () {\n    return new Selector(this.selector, this.hash, this.id, this.pid)\n  }\n\n}\n\n/**\n * The style container registers a style string with selectors.\n */\nexport class Style extends Cache<Selector> implements Container<Style> {\n\n  constructor (public style: string, public hash: HashFunction, public id = `c${hash(style)}`) {\n    super(hash)\n  }\n\n  getStyles (): string {\n    return `${this.sheet.join(',')}{${this.style}}`\n  }\n\n  getIdentifier () {\n    return this.style\n  }\n\n  clone (): Style {\n    return new Style(this.style, this.hash, this.id).merge(this)\n  }\n\n}\n\n/**\n * Implement rule logic for style output.\n */\nexport class Rule extends Cache<Rule | Style> implements Container<Rule> {\n\n  constructor (\n    public rule: string,\n    public style = '',\n    public hash: HashFunction,\n    public id = `a${hash(`${rule}.${style}`)}`,\n    public pid = ''\n  ) {\n    super(hash)\n  }\n\n  getStyles (): string {\n    return `${this.rule}{${this.style}${join(this.sheet)}}`\n  }\n\n  getIdentifier () {\n    return `${this.pid}.${this.rule}.${this.style}`\n  }\n\n  clone (): Rule {\n    return new Rule(this.rule, this.style, this.hash, this.id, this.pid).merge(this)\n  }\n\n}\n\n/**\n * The FreeStyle class implements the API for everything else.\n */\nexport class FreeStyle extends Cache<Rule | Style> implements Container<FreeStyle> {\n\n  constructor (\n    public hash = stringHash,\n    public debug = typeof process !== 'undefined' && process.env['NODE_ENV'] !== 'production',\n    public id = `f${(++uniqueId).toString(36)}`,\n    changes?: Changes\n  ) {\n    super(hash, changes)\n  }\n\n  registerStyle (styles: Styles, displayName?: string) {\n    const debugName = this.debug ? displayName : undefined\n    const { cache, id } = composeStyles(this, '&', styles, true, debugName)\n    this.merge(cache)\n    return id\n  }\n\n  registerKeyframes (keyframes: Styles, displayName?: string) {\n    return this.registerHashRule('@keyframes', keyframes, displayName)\n  }\n\n  registerHashRule (prefix: string, styles: Styles, displayName?: string) {\n    const debugName = this.debug ? displayName : undefined\n    const { cache, pid, id } = composeStyles(this, '', styles, false, debugName)\n    const rule = new Rule(`${prefix} ${escape(id)}`, undefined, this.hash, undefined, pid)\n    this.add(rule.merge(cache))\n    return id\n  }\n\n  registerRule (rule: string, styles: Styles) {\n    this.merge(composeStyles(this, rule, styles, false).cache)\n  }\n\n  registerCss (styles: Styles) {\n    this.merge(composeStyles(this, '', styles, false).cache)\n  }\n\n  getStyles (): string {\n    return join(this.sheet)\n  }\n\n  getIdentifier () {\n    return this.id\n  }\n\n  clone (): FreeStyle {\n    return new FreeStyle(this.hash, this.debug, this.id, this.changes).merge(this)\n  }\n\n}\n\n/**\n * Exports a simple function to create a new instance.\n */\nexport function create (hash?: HashFunction, debug?: boolean, changes?: Changes) {\n  return new FreeStyle(hash, debug, undefined, changes)\n}\n"]}